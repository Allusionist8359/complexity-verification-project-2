/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/7.4.2/samples
 */

plugins {
    id 'java'
    id 'org.checkerframework' version '0.6.9'
}

repositories {
    //Used to resolve dependencies
    mavenCentral()
}

apply plugin: 'org.checkerframework'

dependencies {
    implementation 'org.checkerframework:checker-qual:3.21.3'
}

checkerFramework {
    //List all checkers in use here
    checkers = [
        'org.checkerframework.checker.nullness.NullnessChecker',
        'org.checkerframework.checker.interning.InterningChecker',
        'org.checkerframework.checker.calledmethods.CalledMethodsChecker',
        'org.checkerframework.checker.resourceleak.ResourceLeakChecker',
        'org.checkerframework.checker.index.IndexChecker',
        'org.checkerframework.checker.signature.SignatureChecker',
        'org.checkerframework.common.value.ValueChecker',
        'org.checkerframework.common.aliasing.AliasingChecker',
        'org.checkerframework.checker.optional.OptionalChecker',
        'org.checkerframework.checker.regex.RegexChecker',
        'org.checkerframework.checker.formatter.FormatterChecker',
        'org.checkerframework.checker.tainting.TaintingChecker'
    ]

    extraJavacArgs = [
        '-Awarns',              //Converts the checker framework errors to warnings
        '-Xmaxwarns', '10000'   //Increases # of shown warnings
        //'-Anomsgtext'
        //'-Ashowchecks'
        //'-Adetailedmsgtext'
    ]
}

jar {
    manifest {
        attributes 'Main-Class': 'edu.wm.kobifeldman.Main'
    }
}

sourceSets {
    main {
        java {
            srcDirs = ['src/main/java']
        }
    }
}